{% load static %}

<div class="small-container">
  <div class="row row-2">
    <h2>All Products</h2>
  </div>

  {% for product_chunk in products_chunks %}
  <div class="row">
    {% for product in product_chunk %}
    <div class="col-4">
      <a href="{% url 'product_details' product.id %}">
        <img src="{{ product.image.url }}" alt="{{ product.title }}">
      </a>
      <h4>{{ product.title }}</h4>
      <div class="rating">
        <i class="fa fa-star"></i>
        <i class="fa fa-star"></i>
        <i class="fa fa-star"></i>
        <i class="fa fa-star"></i>
        <i class="fa fa-star-o"></i>
      </div>
      <p>${{ product.price }}</p>
    </div>
    {% endfor %}
  </div>
  {% endfor %}

  <div class="page-btn">
    {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}">←</a>
    {% endif %}

    {% for i in page_obj.paginator.page_range %}
      <a href="?page={{ i }}" {% if page_obj.number == i %}class="active"{% endif %}>
        <span>{{ i }}</span>
      </a>
    {% endfor %}

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">→</a>
    {% endif %}
  </div>
</div>
